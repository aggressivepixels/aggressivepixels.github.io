{"pageProps":{"post":{"title":"Rewriting the generator in PureScript","slug":"rewriting-the-generator-in-purescript","content":"<p>The <a href=\"https://golang.org\">Go</a> generator I first built for this blog was… okay.\nIt did what it needed to do, it was fast and it was very small. But I wasn’t\nhappy with it — HTML templates are brittle, and so is CSS. Having a bit of\nexperience with <a href=\"https://elm-lang.org\">Elm</a>, I really wanted something like\nit’s <a href=\"https://package.elm-lang.org/packages/elm/html/latest/\"><code>Html</code></a> package.\n<em>However</em> I find Elm to be an overkill for a simple blog, and I don’t find the\noptions for static Elm pages very compelling, either. After thinking a bit and\npondering my options, I decided to go with PureScript.</p>\n<h2 class=\"group\" id=\"why\">Why?<a class=\"inline-block ml-2\" href=\"#why\"><span class=\"hidden text-gray-500 hover:text-gray-900 group-hover:inline-block h-5 w-5 group\"><svg fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" class=\"inline-block mb-1\"><path d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"></path></svg></span></a></h2>\n<p>I’ve been reading about Haskell <em>a lot</em> recently, and I initially tried to\nbuild the blog using <a href=\"https://jaspervdj.be/hakyll/\">Hakyll</a>, but I ran out of\nRAM several times when attempting to compile one of it’s dependencies\n(<a href=\"https://pandoc.org/\">Pandoc</a>). I also knew about PureScript,\n<a href=\"https://pursuit.purescript.org/packages/purescript-smolder/7.0.0\"><code>purescript-smolder</code></a>\nand\n<a href=\"https://pursuit.purescript.org/packages/purescript-css/4.0.0\"><code>purescript-css</code></a>,\nwhich essentially meant I could have an entirely type-safe generator,\nwhere broken HTML and CSS would produce a compiler error rather than a\nfunny-looking page, which was exactly what I wanted.</p>\n<h2 class=\"group\" id=\"the-process\">The process<a class=\"inline-block ml-2\" href=\"#the-process\"><span class=\"hidden text-gray-500 hover:text-gray-900 group-hover:inline-block h-5 w-5 group\"><svg fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" class=\"inline-block mb-1\"><path d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"></path></svg></span></a></h2>\n<p>Writing the Go generator took little more than two days because I was familiar\nwith the language and the paradigm. However, this was my first contact with\nPureScript and it’s build tools, and my FP background is very limited, only\nhaving done a couple of Elm toy projects. Sometimes I would get stuck for half\nan hour or more with a single compiler error, and I have to admit I don’t yet\nunderstand how all of this works. It was, however, a wonderful experience, and\nI’m slowly starting to feel some things “click”.</p>\n<p>Overall it took about 14 days to get this generator to be as capable as the\nold one (even though the old one did not provide type-safety for HTML nor CSS).</p>\n<p>It still needs a lot of work though — the error handling is non-existing,\nI’m probably abusing do notation and there are likely better, terser ways of\ndoing most of what I’m doing in it.</p>\n<h2 class=\"group\" id=\"should-you-do-something-like-this\">Should you do something like this?<a class=\"inline-block ml-2\" href=\"#should-you-do-something-like-this\"><span class=\"hidden text-gray-500 hover:text-gray-900 group-hover:inline-block h-5 w-5 group\"><svg fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" class=\"inline-block mb-1\"><path d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"></path></svg></span></a></h2>\n<p>Probably not. There are <a href=\"https://www.staticgen.com/\">a lot</a> of static site\ngenerators out there that might be more than enough for your needs. However,\nit’s a great project for learning how a static site generator works, and if you\nsuffer from <a href=\"https://en.wikipedia.org/wiki/Not_invented_here\">NIH syndrome</a>\nlike me, this is definitely the way to go. You’d be in complete control of the\nmarkup and the whole process that turns it into your page.</p>\n<p>Hopefully one day it’ll become useful enough for other people to use it.</p>","date":"2020-01-23","displayDate":"January 23, 2020"},"prevPreview":{"title":"Hello world!","slug":"hello-world","excerpt":"<p>The result rolling my face over the keyboard two days in a row</p>","date":"2020-01-05","displayDate":"January 5, 2020"},"nextPreview":null},"__N_SSG":true}